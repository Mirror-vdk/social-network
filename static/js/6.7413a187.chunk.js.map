{"version":3,"sources":["Components/Users/Users.module.css","assets/Paginator/Paginator.module.css","Components/Users/User/User.module.css","assets/Paginator/Paginator.jsx","Components/Users/User/User.jsx","Components/Users/Users.jsx","redux/users-selectors.js","Components/Users/UsersContainer.jsx"],"names":["module","exports","Paginator","totalItemsCount","pageSize","onPageChanged","currentPage","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","s","pages_block","button","onClick","filter","p","map","selectedPage","User","user","followingInProgress","unfollow","follow","userspage_main","users_block","user_container","users_list","avablock","ava_img","to","id","src","photos","small","userPhoto","user_avatar","user_body","item","name","ava_item","status","followed","Button","disabled","some","variant","color","Users","totalUsersCount","users","props","users_main","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","this","Preloader","toggleFollowingProgress","React","Component","compose","connect","setCurrentPage","requestUsers"],"mappings":"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","file":"static/js/6.7413a187.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"users_main\":\"Users_users_main__2agaH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pages_block\":\"Paginator_pages_block__2t9hj\",\"selectedPage\":\"Paginator_selectedPage__ofwHt\",\"button\":\"Paginator_button__1GCVc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userspage_main\":\"User_userspage_main__1w1VS\",\"userspage_container\":\"User_userspage_container__TBHyI\",\"users_block\":\"User_users_block__LlGzs\",\"user_item\":\"User_user_item__2gISA\",\"user_container\":\"User_user_container__cL1D6\",\"avablock\":\"User_avablock__2wvBu\",\"ava_item\":\"User_ava_item__1wHMp\",\"user_avatar\":\"User_user_avatar__3y-sV\",\"users_list\":\"User_users_list__D3bQF\",\"user_body\":\"User_user_body__3ByxP\",\"item\":\"User_item__2QwAU\"};","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({totalItemsCount,pageSize,onPageChanged,currentPage,portionSize=10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionCount = Math.ceil(pagesCount /portionSize)\r\n    let [portionNumber,setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber-1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return <div>\r\n        <div className={s.pages_block}>\r\n            { portionNumber > 1 &&\r\n            <button className={s.button} onClick={() => { setPortionNumber(portionNumber - 1) }}>Назад</button> }\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map(p => {\r\n                return <div className={currentPage === p && s.selectedPage} onClick={() => {\r\n                    onPageChanged(p)\r\n                }}>{p}</div>\r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button className={s.button} onClick={() => { setPortionNumber(portionNumber + 1) }}>Вперед</button> }\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Paginator","import React from \"react\";\r\nimport s from \"./User.module.css\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/Choice_toxicity_icon.png\";\r\n\r\n\r\nlet User = ({user,followingInProgress,unfollow,follow}) => {\r\n    return (\r\n                    <div className={s.userspage_main} key={user.id}>\r\n                        <div className={s.users_block}>\r\n                            <div className={s.user_container}>\r\n                                <div className={s.users_list}>\r\n                                    <div className={s.avablock}>\r\n                                        <div className={s.ava_img}>\r\n                                            <NavLink to={'profile/' + user.id}>\r\n                                                <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                                     className={s.user_avatar}/>\r\n                                            </NavLink>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={s.user_body}>\r\n                                        <div className={s.item}>\r\n                                            Имя пользователя: {user.name}\r\n                                        </div>\r\n                                        <div className={s.item}>\r\n                                            Страна: Россия\r\n                                        </div>\r\n                                        <div className={s.item}>\r\n                                            Населеный пункт: Владик\r\n                                        </div>\r\n                                        <div className={s.ava_item}>\r\n                                           Статус {user.status}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={s.item}>\r\n                                        {user.followed ? <Button disabled={followingInProgress\r\n                                                .some(id => id === user.id)}\r\n                                                              onClick={() => {\r\n                                                                  unfollow(user.id)\r\n                                                              }} variant=\"outlined\"\r\n                                                              color=\"secondary\">Отписаться</Button>\r\n                                            : <Button disabled={followingInProgress.some(id => id === user.id)}\r\n                                                      onClick={() => {\r\n                                                          follow(user.id)\r\n                                                      }} color=\"primary\" variant=\"outlined\">\r\n                                                Подписаться</Button>}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>)\r\n}\r\n\r\nexport default User","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport Paginator from \"../../assets/Paginator/Paginator\";\r\nimport User from \"./User/User\";\r\n\r\n\r\nlet Users = ({currentPage,onPageChanged,totalUsersCount,pageSize, users,...props}) => {\r\n    return <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                   totalItemsCount={totalUsersCount} pageSize={pageSize}/>\r\n        <div className={s.users_main}>\r\n            {users.map(u => <User user={u} key={u.id} follow={props.follow}\r\n                                           followingInProgress={props.followingInProgress}\r\n                                           unfollow={props.unfollow} />)}\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users","export const getUsers = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n   return  state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n   return  state.usersPage.followingInProgress\r\n}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../assets/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, setCurrentPage, toggleFollowingProgress, getUsers: requestUsers})\r\n)(UsersContainer)\r\n"],"sourceRoot":""}